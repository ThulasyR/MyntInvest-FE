{"ast":null,"code":"import _classCallCheck from\"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import'../Css/styles.css';import{NavLink,Link}from\"react-router-dom\";import Image from'../elements/Image';import'bootstrap/dist/css/bootstrap.min.css';import DataService from'../../service/DataService';import UploadService from\"../../service/file-upload.service\";import Moment from'moment';import $ from\"jquery\";var current=new Date();var date=\"\".concat(current.getFullYear(),\"-\").concat(current.getMonth()+1,\"-\").concat(current.getDate());//mysql insert date format\nvar formatDate=Moment(\"12/09/2002\").format('YYYY-MM-DD');//2002-12-09\nvar extractFilename=function extractFilename(path){var pathArray=path.split(\"/\");var lastIndex=pathArray.length-1;return pathArray[lastIndex];};var UploadPitch=/*#__PURE__*/function(_React$Component){_inherits(UploadPitch,_React$Component);var _super=_createSuper(UploadPitch);function UploadPitch(){var _this;_classCallCheck(this,UploadPitch);_this=_super.call(this);_this.state={pitchuploadAllDets:[],currentraise:null,currentraiseIndex:-1,input:{},errors:{},ID:null,MTUSER_ID:null,EMAIL:null,MODULE:null,PITCH_UPLOAD_DOC:\"\",STATUS:\"\",COMMENTS:\"\",DESCRIPTION:\"\",CREATED_USER:\"\",CREATED_DATE:\"\",MODIFIED_USER:\"\",MODIFIED_DATE:\"\"};_this.saveUploadPitch=_this.saveUploadPitch.bind(_assertThisInitialized(_this));_this.retrieveAllPitchUpload=_this.retrieveAllPitchUpload.bind(_assertThisInitialized(_this));//   this.deleteUploadPitch=this.deleteUploadPitch.bind(this); \nreturn _this;}_createClass(UploadPitch,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveAllPitchUpload();}},{key:\"retrieveAllPitchUpload\",value:function retrieveAllPitchUpload(){var _this2=this;var querySet=\"/uploadpitch?EMAIL=\"+sessionStorage.getItem(\"sessEmail\");console.log(querySet);DataService.findByTitle(querySet).then(function(response){_this2.setState({pitchuploadAllDets:response.data});$.each(_this2.state.pitchuploadAllDets,function(index,value){// if(index != 0){\n//   $(\"#teaminfoAddmem\").click(); \n// } \n$(\"#uploadpitchform\").find(\".btnsubmit\").html('');$(\"#uploadpitchform #uploadpitchid\").attr(\"value\",value.ID).val(value.ID);console.log(\"value.PITCH_UPLOAD_DOC.length\"+value.PITCH_UPLOAD_DOC.length);if(value.PITCH_UPLOAD_DOC.length>0){$(\"#uploadpitchform\").find(\".uploadAreaUp\").html(\"<p>Download file: <a class='text-primary' target='_blank' href=\"+window.mt_backend_url+value.PITCH_UPLOAD_DOC+\">\"+extractFilename(value.PITCH_UPLOAD_DOC)+\"</a>&nbsp;&nbsp;<button  id='btnuploaddelete' type='button' data-attr=\"+value.ID+\" class='btn btn-light'  '><i class='fa fa-trash'></i></button></p>\");$(\"#uploadpitchform\").find(\".btnsubmit\").html(\"\");$(\"#btnuploaddelete\").click(function(){var delquerySet=\"/uploadpitch/\"+Number($(this).attr(\"data-attr\"));console.log(delquerySet);DataService.delete(querySet).then(function(response){window.showAlert(\"Deleted Successfully\",\"/Upload_Pitch\");});});}// else{\n// $(\"#uploadpitchform\").find(\".uploadAreaUp\").html('<div class=\"form-group files\"><input type=\"file\"  className=\"form-control\"  multiple  name=\"uploadpitchDoc\" id=\"uploadpitchDoc\" /></div>');\n// $(\"#uploadpitchform\").find(\".btnsubmit\").html('');   \n// }\n});}).catch(function(e){console.log(e);});}},{key:\"saveUploadPitch\",value:function saveUploadPitch(event){event.preventDefault();if(this.validateUploadPitch()){if(!window.isEmpty(sessionStorage.getItem(\"sessEmail\"))){var uptchformData=new FormData();uptchformData.append(\"ID\",Number($(\"#uploadpitchform #uploadpitchid\").val()));uptchformData.append(\"MTUSER_ID\",$(\"#mtuser_id\").val());uptchformData.append(\"EMAIL\",$(\"#mtuser_email\").val());uptchformData.append(\"MODULE\",$(\"#mtuser_module\").val());uptchformData.append(\"STATUS\",\"Active\");uptchformData.append(\"COMMENTS\",\"TEST\");uptchformData.append(\"DESCRIPTION\",\"TEST\");uptchformData.append(\"CREATED_USER\",$(\"#mtuser_fname\").val());uptchformData.append(\"CREATED_DATE\",Moment(date).format(\"YYYY-MM-DD\"));uptchformData.append(\"MODIFIED_USER\",$(\"#mtuser_fname\").val());uptchformData.append(\"MODIFIED_DATE\",Moment(date).format(\"YYYY-MM-DD\"));if(window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())){uptchformData.append(\"PITCH_UPLOAD_DOC\",$(\"#uploadpitchform #uploadpitchDoc\")[0].files[0],$(\"#uploadpitchform #uploadpitchDoc\")[0].files[0].name);// rsformData.RAISE_UPLOAD_DOC = $(\"#Raiseform #rsuploadfile\").files[0];\n// rsformData.RAISE_UPLOAD_DOC_NAME = $(\"#Raiseform #rsuploadfile\").files[0].name;\n}console.log(uptchformData);if(window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())){UploadService.create(\"/uploadpitch\",uptchformData).then(function(response){console.log(\"inside\");window.showLoader();window.showAlert(\"Pitch Upload Document is submittted\",\"/Startup_Dashboard\");}).catch(function(e){window.showLoader();window.showAlert(\"OOps!!! Something went wrong\",\"/Upload_Pitch\");});}else{UploadService.update(\"/uploadpitch/\"+Number($(\"#uploadpitchform #uploadpitchid\").val()),uptchformData).then(function(response){window.showLoader();window.showAlert(\"Pitch Upload Document is submittted\",\"/Startup_Dashboard\");}).catch(function(e){window.showLoader();window.showAlert(\"OOps!!! Something went wrong\",\"/Upload_Pitch\");});}// });\n}else{window.showAlert(\"Please Login\",\"/Login\");}}}},{key:\"validateUploadPitch\",value:function validateUploadPitch(){console.log(\"inside validateUploadPitch validations\");var errors={};var isValid=true;if(!$(\"#uploadpitchDoc\").get(0).files.length>0){isValid=false;errors[\"uploadpitchDoc\"]=\"Please Upload Pitch\";$(\"#uploadpitchDoc\").focus();}this.setState({errors:errors});return isValid;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"body\",{className:\"bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{height:'auto',marginTop:100}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hero-content\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-sm bg-Secondary navbar-white \"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav\",style:{fontSize:13}},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/Startup_Dashboard\",className:\"nav-link arrow-right\",style:{color:\"#B1B0AD\"}},\"\\xA0Back to Dashboard\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"form\",{name:\"uploadpitchform\",id:\"uploadpitchform\",method:\"POST\",className:\"row m-5 g-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{height:'auto'}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pitch\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Upload Pitch Deck\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row m-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"form-label\"},\"Upload your Pitch\",/*#__PURE__*/React.createElement(\"span\",{className:\"maroon\"},\"*\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"small\",{className:\"font12 text-secondary\"},\"Max. Size: 10MB\"),/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",id:\"uploadpitchid\",name:\"uploadpitchid\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"uploadAreaUp mt-2\"},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group files\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"uploadpitchDoc\",name:\"uploadpitchDoc\",class:\"form-control\",multiple:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger errors\",style:{fontSize:15}},this.state.errors.uploadpitchDoc))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"row  m-1 btnsubmit\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-success btn-sm col-md-4\",onClick:this.saveUploadPitch},\"Submit\")))))))))));}}]);return UploadPitch;}(React.Component);export default UploadPitch;","map":{"version":3,"sources":["E:/Thulasy/project_live_workspace/Myntinvest/src/components/sections/Upload_Pitch.js"],"names":["React","NavLink","Link","Image","DataService","UploadService","Moment","$","current","Date","date","getFullYear","getMonth","getDate","formatDate","format","extractFilename","path","pathArray","split","lastIndex","length","UploadPitch","state","pitchuploadAllDets","currentraise","currentraiseIndex","input","errors","ID","MTUSER_ID","EMAIL","MODULE","PITCH_UPLOAD_DOC","STATUS","COMMENTS","DESCRIPTION","CREATED_USER","CREATED_DATE","MODIFIED_USER","MODIFIED_DATE","saveUploadPitch","bind","retrieveAllPitchUpload","querySet","sessionStorage","getItem","console","log","findByTitle","then","response","setState","data","each","index","value","find","html","attr","val","window","mt_backend_url","click","delquerySet","Number","delete","showAlert","catch","e","event","preventDefault","validateUploadPitch","isEmpty","uptchformData","FormData","append","files","name","create","showLoader","update","isValid","get","focus","height","marginTop","fontSize","color","uploadpitchDoc","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../Css/styles.css';\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport Image from '../elements/Image';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport DataService from '../../service/DataService';\r\nimport UploadService from \"../../service/file-upload.service\";\r\nimport Moment from 'moment';\r\nimport $ from \"jquery\";\r\nconst current = new Date();\r\nconst date = `${current.getFullYear()}-${current.getMonth() + 1}-${current.getDate()}`;//mysql insert date format\r\nconst formatDate = Moment(\"12/09/2002\").format('YYYY-MM-DD')//2002-12-09\r\nconst extractFilename = (path) => {\r\n  const pathArray = path.split(\"/\");\r\n  const lastIndex = pathArray.length - 1;\r\n  return pathArray[lastIndex];\r\n};\r\n\r\n\r\n \r\nclass UploadPitch extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        pitchuploadAllDets: [],\r\n        currentraise: null,\r\n        currentraiseIndex: -1,\r\n        input: {},\r\n        errors: {},\r\n        ID: null,\r\n        MTUSER_ID: null,\r\n        EMAIL: null,\r\n        MODULE: null, \r\n        PITCH_UPLOAD_DOC: \"\",\r\n        STATUS: \"\",\r\n        COMMENTS: \"\",\r\n        DESCRIPTION: \"\",\r\n        CREATED_USER: \"\",\r\n        CREATED_DATE: \"\",\r\n        MODIFIED_USER: \"\",\r\n        MODIFIED_DATE: \"\", \r\n      };\r\n  \r\n      this.saveUploadPitch = this.saveUploadPitch.bind(this);\r\n      this.retrieveAllPitchUpload = this.retrieveAllPitchUpload.bind(this); \r\n    //   this.deleteUploadPitch=this.deleteUploadPitch.bind(this); \r\n    }\r\n\r\n    componentDidMount() {\r\n      this.retrieveAllPitchUpload();\r\n    }\r\n  \r\n    retrieveAllPitchUpload() {\r\n      var querySet = \"/uploadpitch?EMAIL=\" + sessionStorage.getItem(\"sessEmail\");\r\n      console.log(querySet);\r\n      DataService.findByTitle(querySet)\r\n        .then(response => {\r\n          this.setState({\r\n            pitchuploadAllDets: response.data, \r\n          });\r\n\r\n         \r\n\r\n        \r\n  \r\n           $.each(this.state.pitchuploadAllDets, function (index, value) {\r\n  \r\n          // if(index != 0){\r\n          //   $(\"#teaminfoAddmem\").click(); \r\n          // } \r\n   \r\n          $(\"#uploadpitchform\").find(\".btnsubmit\").html('');\r\n          $(\"#uploadpitchform #uploadpitchid\").attr(\"value\", value.ID).val(value.ID); \r\n            console.log(\"value.PITCH_UPLOAD_DOC.length\"+value.PITCH_UPLOAD_DOC.length)\r\n           if(value.PITCH_UPLOAD_DOC.length > 0){\r\n   \r\n             $(\"#uploadpitchform\").find(\".uploadAreaUp\").html(\"<p>Download file: <a class='text-primary' target='_blank' href=\"+window.mt_backend_url+value.PITCH_UPLOAD_DOC+\">\"+extractFilename(value.PITCH_UPLOAD_DOC)+\"</a>&nbsp;&nbsp;<button  id='btnuploaddelete' type='button' data-attr=\"+value.ID+\" class='btn btn-light'  '><i class='fa fa-trash'></i></button></p>\")\r\n             $(\"#uploadpitchform\").find(\".btnsubmit\").html(\"\");\r\n             $(\"#btnuploaddelete\").click(function(){\r\n\r\n                var delquerySet = \"/uploadpitch/\" + Number($(this).attr(\"data-attr\"));\r\n                console.log(delquerySet);\r\n        DataService.delete(querySet)\r\n        .then(response => {\r\n            window.showAlert(\"Deleted Successfully\", \"/Upload_Pitch\");\r\n        });\r\n                 \r\n            });\r\n            }\r\n \r\n            // else{\r\n            // $(\"#uploadpitchform\").find(\".uploadAreaUp\").html('<div class=\"form-group files\"><input type=\"file\"  className=\"form-control\"  multiple  name=\"uploadpitchDoc\" id=\"uploadpitchDoc\" /></div>');\r\n            // $(\"#uploadpitchform\").find(\".btnsubmit\").html('');   \r\n            // }\r\n          \r\n  \r\n         }); \r\n  \r\n        }) \r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  \r\n  \r\n   \r\n   \r\n    saveUploadPitch(event) {\r\n      event.preventDefault();\r\n      if (this.validateUploadPitch()) {\r\n        if (!window.isEmpty(sessionStorage.getItem(\"sessEmail\"))) {\r\n             \r\n          let uptchformData = new FormData();  \r\n          uptchformData.append(\"ID\",Number($(\"#uploadpitchform #uploadpitchid\").val()));\r\n          uptchformData.append(\"MTUSER_ID\",$(\"#mtuser_id\").val());\r\n          uptchformData.append(\"EMAIL\",$(\"#mtuser_email\").val()); \r\n          uptchformData.append(\"MODULE\",$(\"#mtuser_module\").val()); \r\n          uptchformData.append(\"STATUS\",\"Active\");\r\n          uptchformData.append(\"COMMENTS\", \"TEST\");\r\n          uptchformData.append(\"DESCRIPTION\", \"TEST\");\r\n          uptchformData.append(\"CREATED_USER\", $(\"#mtuser_fname\").val());\r\n          uptchformData.append(\"CREATED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\r\n          uptchformData.append(\"MODIFIED_USER\", $(\"#mtuser_fname\").val());\r\n          uptchformData.append(\"MODIFIED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\r\n           \r\n       \r\n          if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\r\n            uptchformData.append(\"PITCH_UPLOAD_DOC\", $(\"#uploadpitchform #uploadpitchDoc\")[0].files[0],$(\"#uploadpitchform #uploadpitchDoc\")[0].files[0].name);\r\n            // rsformData.RAISE_UPLOAD_DOC = $(\"#Raiseform #rsuploadfile\").files[0];\r\n            // rsformData.RAISE_UPLOAD_DOC_NAME = $(\"#Raiseform #rsuploadfile\").files[0].name;\r\n           \r\n          }\r\n  \r\n          console.log(uptchformData);\r\n  \r\n          if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\r\n  \r\n            UploadService.create(\"/uploadpitch\", uptchformData)\r\n              .then(response => {\r\n                console.log(\"inside\");\r\n                window.showLoader();\r\n                window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\r\n              })\r\n              .catch(e => {\r\n                window.showLoader();\r\n                window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\r\n              });\r\n  \r\n          } else {\r\n  \r\n  \r\n            UploadService.update(\"/uploadpitch/\" + Number($(\"#uploadpitchform #uploadpitchid\").val()), uptchformData)\r\n              .then(response => {\r\n                window.showLoader();\r\n                window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\r\n              })\r\n              .catch(e => {\r\n                window.showLoader();\r\n                window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\r\n              });\r\n  \r\n          }\r\n  \r\n  \r\n          // });\r\n  \r\n  \r\n  \r\n        } else {\r\n          window.showAlert(\"Please Login\", \"/Login\");\r\n        }\r\n      }\r\n  \r\n    }\r\n  \r\n  \r\n  \r\n    validateUploadPitch() {\r\n      console.log(\"inside validateUploadPitch validations\")\r\n       \r\n      let errors = {};\r\n      let isValid = true;\r\n  \r\n      if (!$(\"#uploadpitchDoc\").get(0).files.length  > 0) {\r\n        isValid = false;\r\n        errors[\"uploadpitchDoc\"] = \"Please Upload Pitch\";\r\n        $(\"#uploadpitchDoc\").focus();\r\n      }\r\n    \r\n  \r\n      this.setState({\r\n        errors: errors\r\n      });\r\n  \r\n      return isValid;\r\n    }\r\n  \r\n    render() {\r\n      \r\n  \r\n      return (\r\n  \r\n        <>\r\n          <body className='bg-white' >\r\n            <div className='container'>\r\n  \r\n              <div className='row' style={{ height: 'auto', marginTop: 100 }}>\r\n                <div className='row'>\r\n                  <div className=\"hero-content\">\r\n  \r\n                  <nav className=\"navbar navbar-expand-sm bg-Secondary navbar-white \" >\r\n                            <div className=\"container-fluid\"  >\r\n                                  <ul className=\"navbar-nav\" style={{fontSize:13}}> \r\n                                      <li className=\"nav-item\">\r\n                                          <NavLink to=\"/Startup_Dashboard\" className=\"nav-link arrow-right\" style={{color:\"#B1B0AD\"}}>&nbsp;Back to Dashboard</NavLink>\r\n                                        </li>\r\n                                  \r\n                                    </ul>\r\n                              </div>\r\n                            </nav>\r\n\r\n\r\n                    <div className='container'>\r\n                      <form name=\"uploadpitchform\" id=\"uploadpitchform\" method=\"POST\" className=\"row m-5 g-3\"  >\r\n  \r\n  \r\n                        <div className='row' style={{ height: 'auto' }}>\r\n                          <div className='col-md-12'>\r\n                            <h1>Pitch</h1>\r\n                             <h4>Upload Pitch Deck</h4>\r\n                            {/* <p className=\"font20\">\r\n                              <b>Upload Pitch Deck</b></p> */}\r\n                            <div className=\"row m-1\">\r\n                            <div className=\"col-md-8 mb-3\" >\r\n                                    <label className=\"form-label\">Upload your Pitch<span className='maroon'>*</span></label>\r\n                                    <br />\r\n                                    <small className='font12 text-secondary'>Max. Size: 10MB</small>\r\n                                    <input type=\"hidden\" id=\"uploadpitchid\" name=\"uploadpitchid\"/>\r\n                                          <div className='uploadAreaUp mt-2'>\r\n                                          <div class=\"form-group files\"> \r\n                                                    <input type=\"file\" id=\"uploadpitchDoc\" name=\"uploadpitchDoc\" class=\"form-control\" multiple=\"\"/>\r\n                                            </div>\r\n                                    </div>  \r\n                                    <div className=\"text-danger errors\" style={{ fontSize: 15 }}>{this.state.errors.uploadpitchDoc}</div>\r\n                               \r\n                                  </div>\r\n                                  </div>\r\n                          </div>\r\n                        </div>\r\n  \r\n                        <div className=\"col-md-6 \">\r\n                                           <div className=\"row  m-1 btnsubmit\">\r\n    {/* <div className=\"col-md-3 mb-3\" > */}\r\n    {/* <button type=\"button\" className=\"btn btn-outline-secondary btn-sm w-100\" data-attr-id=\"teamInfoDivisionIter\" id=\"teaminfoAddmem\">Add Members</button> */}\r\n      {/* </div> */}\r\n      {/* <div className=\"col-md-3 mb-3 text-right\" > */}\r\n    \r\n      {/* </div> */}\r\n      <button type=\"button\" class=\"btn btn-success btn-sm col-md-4\"  onClick={this.saveUploadPitch}>Submit</button>\r\n  \r\n  \r\n    </div>\r\n                                           </div>\r\n  \r\n                      </form>\r\n  \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </body>\r\n        </>\r\n  \r\n      );\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  export default UploadPitch;"]},"metadata":{},"sourceType":"module"}