{"ast":null,"code":"var _jsxFileName = \"E:\\\\Thulasy\\\\project_live_workspace\\\\Myntinvest\\\\src\\\\components\\\\sections\\\\Upload_Pitch.js\";\nimport React from 'react';\nimport '../Css/styles.css';\nimport { NavLink, Link } from \"react-router-dom\";\nimport Image from '../elements/Image';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport DataService from '../../service/DataService';\nimport UploadService from \"../../service/file-upload.service\";\nimport Moment from 'moment';\nimport $ from \"jquery\";\nconst current = new Date();\nconst date = `${current.getFullYear()}-${current.getMonth() + 1}-${current.getDate()}`; //mysql insert date format\n\nconst formatDate = Moment(\"12/09/2002\").format('YYYY-MM-DD'); //2002-12-09\n\nconst extractFilename = path => {\n  const pathArray = path.split(\"/\");\n  const lastIndex = pathArray.length - 1;\n  return pathArray[lastIndex];\n};\n\nclass UploadPitch extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      pitchuploadAllDets: [],\n      currentraise: null,\n      currentraiseIndex: -1,\n      input: {},\n      errors: {},\n      ID: null,\n      MTUSER_ID: null,\n      EMAIL: null,\n      MODULE: null,\n      PITCH_UPLOAD_DOC: \"\",\n      STATUS: \"\",\n      COMMENTS: \"\",\n      DESCRIPTION: \"\",\n      CREATED_USER: \"\",\n      CREATED_DATE: \"\",\n      MODIFIED_USER: \"\",\n      MODIFIED_DATE: \"\"\n    };\n    this.saveUploadPitch = this.saveUploadPitch.bind(this);\n    this.retrieveAllPitchUpload = this.retrieveAllPitchUpload.bind(this);\n  }\n\n  componentDidMount() {\n    this.retrieveAllPitchUpload();\n  }\n\n  retrieveAllPitchUpload() {\n    var querySet = \"/uploadpitch?EMAIL=\" + sessionStorage.getItem(\"sessEmail\");\n    console.log(querySet);\n    DataService.findByTitle(querySet).then(response => {\n      this.setState({\n        pitchuploadAllDets: response.data\n      });\n      $.each(this.state.pitchuploadAllDets, function (index, value) {\n        // if(index != 0){\n        //   $(\"#teaminfoAddmem\").click(); \n        // } \n        console.log(value.PITCH_UPLOAD_DOC);\n        $(\"#uploadpitchform #uploadpitchid\").attr(\"value\", value.ID).val(value.ID);\n\n        if (value.PITCH_UPLOAD_DOC.length > 0) {\n          $(\"#uploadpitchform\").find(\".uploadAreaUp\").html(\"<p>Download file: <a class='text-primary' target='_blank' href=\" + window.mt_backend_url + value.PITCH_UPLOAD_DOC + \">\" + extractFilename(value.PITCH_UPLOAD_DOC) + \"</a></p>\");\n        } else {\n          $(\"#uploadpitchform\").find(\".uploadAreaUp\").html('<div class=\"form-group files\"><input type=\"file\"  className=\"form-control\"  multiple  name=\"uploadpitchDoc\" id=\"uploadpitchDoc\" /></div>');\n        }\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  saveUploadPitch(event) {\n    event.preventDefault();\n\n    if (this.validateUploadPitch()) {\n      if (!window.isEmpty(sessionStorage.getItem(\"sessEmail\"))) {\n        let uptchformData = new FormData();\n        uptchformData.append(\"ID\", Number($(\"#uploadpitchform #uploadpitchid\").val()));\n        uptchformData.append(\"MTUSER_ID\", $(\"#mtuser_id\").val());\n        uptchformData.append(\"EMAIL\", $(\"#mtuser_email\").val());\n        uptchformData.append(\"MODULE\", $(\"#mtuser_module\").val());\n        uptchformData.append(\"STATUS\", \"Active\");\n        uptchformData.append(\"COMMENTS\", \"TEST\");\n        uptchformData.append(\"DESCRIPTION\", \"TEST\");\n        uptchformData.append(\"CREATED_USER\", $(\"#mtuser_fname\").val());\n        uptchformData.append(\"CREATED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\n        uptchformData.append(\"MODIFIED_USER\", $(\"#mtuser_fname\").val());\n        uptchformData.append(\"MODIFIED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\n\n        if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\n          uptchformData.append(\"PITCH_UPLOAD_DOC\", $(\"#uploadpitchform #uploadpitchDoc\")[0].files[0], $(\"#uploadpitchform #uploadpitchDoc\")[0].files[0].name); // rsformData.RAISE_UPLOAD_DOC = $(\"#Raiseform #rsuploadfile\").files[0];\n          // rsformData.RAISE_UPLOAD_DOC_NAME = $(\"#Raiseform #rsuploadfile\").files[0].name;\n        }\n\n        console.log(uptchformData);\n\n        if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\n          UploadService.create(\"/uploadpitch\", uptchformData).then(response => {\n            console.log(\"inside\");\n            window.showLoader();\n            window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\n          }).catch(e => {\n            window.showLoader();\n            window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\n          });\n        } else {\n          UploadService.update(\"/uploadpitch/\" + Number($(\"#uploadpitchform #uploadpitchid\").val()), uptchformData).then(response => {\n            window.showLoader();\n            window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\n          }).catch(e => {\n            window.showLoader();\n            window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\n          });\n        } // });\n\n      } else {\n        window.showAlert(\"Please Login\", \"/Login\");\n      }\n    }\n  }\n\n  validateUploadPitch() {\n    console.log(\"inside validateUploadPitch validations\");\n    let errors = {};\n    let isValid = true;\n\n    if (!$(\"#uploadpitchDoc\").get(0).files.length > 0) {\n      isValid = false;\n      errors[\"uploadpitchDoc\"] = \"Please Upload Pitch\";\n      $(\"#uploadpitchDoc\").focus();\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return isValid;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"body\", {\n      className: \"bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        height: 'auto',\n        marginTop: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-sm bg-Secondary navbar-white \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav\",\n      style: {\n        fontSize: 13\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/Startup_Dashboard\",\n      className: \"nav-link arrow-right\",\n      style: {\n        color: \"#B1B0AD\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 43\n      }\n    }, \"\\xA0Back to Dashboard\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      name: \"uploadpitchform\",\n      id: \"uploadpitchform\",\n      method: \"POST\",\n      className: \"row m-5 g-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        height: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, \"Pitch\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 30\n      }\n    }, \"Upload Pitch Deck\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row m-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 37\n      }\n    }, \"Upload your Pitch\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"maroon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 84\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"font12 text-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 37\n      }\n    }, \"Max. Size: 10MB\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"uploadpitchid\",\n      name: \"uploadpitchid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"uploadAreaUp mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group files\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"uploadpitchDoc\",\n      name: \"uploadpitchDoc\",\n      class: \"form-control\",\n      multiple: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-danger errors\",\n      style: {\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 37\n      }\n    }, this.state.errors.uploadpitchDoc))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row  m-1 btns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-sm col-md-4\",\n      onClick: this.saveUploadPitch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 5\n      }\n    }, \"Submit\")))))))))));\n  }\n\n}\n\nexport default UploadPitch;","map":{"version":3,"sources":["E:/Thulasy/project_live_workspace/Myntinvest/src/components/sections/Upload_Pitch.js"],"names":["React","NavLink","Link","Image","DataService","UploadService","Moment","$","current","Date","date","getFullYear","getMonth","getDate","formatDate","format","extractFilename","path","pathArray","split","lastIndex","length","UploadPitch","Component","constructor","state","pitchuploadAllDets","currentraise","currentraiseIndex","input","errors","ID","MTUSER_ID","EMAIL","MODULE","PITCH_UPLOAD_DOC","STATUS","COMMENTS","DESCRIPTION","CREATED_USER","CREATED_DATE","MODIFIED_USER","MODIFIED_DATE","saveUploadPitch","bind","retrieveAllPitchUpload","componentDidMount","querySet","sessionStorage","getItem","console","log","findByTitle","then","response","setState","data","each","index","value","attr","val","find","html","window","mt_backend_url","catch","e","event","preventDefault","validateUploadPitch","isEmpty","uptchformData","FormData","append","Number","files","name","create","showLoader","showAlert","update","isValid","get","focus","render","height","marginTop","fontSize","color","uploadpitchDoc"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../Css/styles.css';\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport Image from '../elements/Image';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport DataService from '../../service/DataService';\r\nimport UploadService from \"../../service/file-upload.service\";\r\nimport Moment from 'moment';\r\nimport $ from \"jquery\";\r\nconst current = new Date();\r\nconst date = `${current.getFullYear()}-${current.getMonth() + 1}-${current.getDate()}`;//mysql insert date format\r\nconst formatDate = Moment(\"12/09/2002\").format('YYYY-MM-DD')//2002-12-09\r\nconst extractFilename = (path) => {\r\n  const pathArray = path.split(\"/\");\r\n  const lastIndex = pathArray.length - 1;\r\n  return pathArray[lastIndex];\r\n};\r\n\r\n\r\n \r\nclass UploadPitch extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        pitchuploadAllDets: [],\r\n        currentraise: null,\r\n        currentraiseIndex: -1,\r\n        input: {},\r\n        errors: {},\r\n        ID: null,\r\n        MTUSER_ID: null,\r\n        EMAIL: null,\r\n        MODULE: null, \r\n        PITCH_UPLOAD_DOC: \"\",\r\n        STATUS: \"\",\r\n        COMMENTS: \"\",\r\n        DESCRIPTION: \"\",\r\n        CREATED_USER: \"\",\r\n        CREATED_DATE: \"\",\r\n        MODIFIED_USER: \"\",\r\n        MODIFIED_DATE: \"\", \r\n      };\r\n  \r\n      this.saveUploadPitch = this.saveUploadPitch.bind(this);\r\n      this.retrieveAllPitchUpload = this.retrieveAllPitchUpload.bind(this);  \r\n    }\r\n\r\n    componentDidMount() {\r\n      this.retrieveAllPitchUpload();\r\n    }\r\n  \r\n    retrieveAllPitchUpload() {\r\n      var querySet = \"/uploadpitch?EMAIL=\" + sessionStorage.getItem(\"sessEmail\");\r\n      console.log(querySet);\r\n      DataService.findByTitle(querySet)\r\n        .then(response => {\r\n          this.setState({\r\n            pitchuploadAllDets: response.data, \r\n          });\r\n  \r\n           $.each(this.state.pitchuploadAllDets, function (index, value) {\r\n  \r\n          // if(index != 0){\r\n          //   $(\"#teaminfoAddmem\").click(); \r\n          // } \r\n  \r\n          console.log(value.PITCH_UPLOAD_DOC)\r\n  \r\n          $(\"#uploadpitchform #uploadpitchid\").attr(\"value\", value.ID).val(value.ID); \r\n            \r\n           if(value.PITCH_UPLOAD_DOC.length > 0){\r\n   \r\n             $(\"#uploadpitchform\").find(\".uploadAreaUp\").html(\"<p>Download file: <a class='text-primary' target='_blank' href=\"+window.mt_backend_url+value.PITCH_UPLOAD_DOC+\">\"+extractFilename(value.PITCH_UPLOAD_DOC)+\"</a></p>\")\r\n           }else{\r\n            $(\"#uploadpitchform\").find(\".uploadAreaUp\").html('<div class=\"form-group files\"><input type=\"file\"  className=\"form-control\"  multiple  name=\"uploadpitchDoc\" id=\"uploadpitchDoc\" /></div>');\r\n           }\r\n          \r\n  \r\n         }); \r\n  \r\n        }) \r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  \r\n   \r\n  \r\n  \r\n   \r\n    saveUploadPitch(event) {\r\n      event.preventDefault();\r\n      if (this.validateUploadPitch()) {\r\n        if (!window.isEmpty(sessionStorage.getItem(\"sessEmail\"))) {\r\n             \r\n          let uptchformData = new FormData();  \r\n          uptchformData.append(\"ID\",Number($(\"#uploadpitchform #uploadpitchid\").val()));\r\n          uptchformData.append(\"MTUSER_ID\",$(\"#mtuser_id\").val());\r\n          uptchformData.append(\"EMAIL\",$(\"#mtuser_email\").val()); \r\n          uptchformData.append(\"MODULE\",$(\"#mtuser_module\").val()); \r\n          uptchformData.append(\"STATUS\",\"Active\");\r\n          uptchformData.append(\"COMMENTS\", \"TEST\");\r\n          uptchformData.append(\"DESCRIPTION\", \"TEST\");\r\n          uptchformData.append(\"CREATED_USER\", $(\"#mtuser_fname\").val());\r\n          uptchformData.append(\"CREATED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\r\n          uptchformData.append(\"MODIFIED_USER\", $(\"#mtuser_fname\").val());\r\n          uptchformData.append(\"MODIFIED_DATE\", Moment(date).format(\"YYYY-MM-DD\"));\r\n           \r\n       \r\n          if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\r\n            uptchformData.append(\"PITCH_UPLOAD_DOC\", $(\"#uploadpitchform #uploadpitchDoc\")[0].files[0],$(\"#uploadpitchform #uploadpitchDoc\")[0].files[0].name);\r\n            // rsformData.RAISE_UPLOAD_DOC = $(\"#Raiseform #rsuploadfile\").files[0];\r\n            // rsformData.RAISE_UPLOAD_DOC_NAME = $(\"#Raiseform #rsuploadfile\").files[0].name;\r\n           \r\n          }\r\n  \r\n          console.log(uptchformData);\r\n  \r\n          if (window.isEmpty($(\"#uploadpitchform #uploadpitchid\").val())) {\r\n  \r\n            UploadService.create(\"/uploadpitch\", uptchformData)\r\n              .then(response => {\r\n                console.log(\"inside\");\r\n                window.showLoader();\r\n                window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\r\n              })\r\n              .catch(e => {\r\n                window.showLoader();\r\n                window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\r\n              });\r\n  \r\n          } else {\r\n  \r\n  \r\n            UploadService.update(\"/uploadpitch/\" + Number($(\"#uploadpitchform #uploadpitchid\").val()), uptchformData)\r\n              .then(response => {\r\n                window.showLoader();\r\n                window.showAlert(\"Pitch Upload Document is submittted\", \"/Startup_Dashboard\");\r\n              })\r\n              .catch(e => {\r\n                window.showLoader();\r\n                window.showAlert(\"OOps!!! Something went wrong\", \"/Upload_Pitch\");\r\n              });\r\n  \r\n          }\r\n  \r\n  \r\n          // });\r\n  \r\n  \r\n  \r\n        } else {\r\n          window.showAlert(\"Please Login\", \"/Login\");\r\n        }\r\n      }\r\n  \r\n    }\r\n  \r\n  \r\n  \r\n    validateUploadPitch() {\r\n      console.log(\"inside validateUploadPitch validations\")\r\n       \r\n      let errors = {};\r\n      let isValid = true;\r\n  \r\n      if (!$(\"#uploadpitchDoc\").get(0).files.length  > 0) {\r\n        isValid = false;\r\n        errors[\"uploadpitchDoc\"] = \"Please Upload Pitch\";\r\n        $(\"#uploadpitchDoc\").focus();\r\n      }\r\n    \r\n  \r\n      this.setState({\r\n        errors: errors\r\n      });\r\n  \r\n      return isValid;\r\n    }\r\n  \r\n    render() {\r\n      \r\n  \r\n      return (\r\n  \r\n        <>\r\n          <body className='bg-white' >\r\n            <div className='container'>\r\n  \r\n              <div className='row' style={{ height: 'auto', marginTop: 100 }}>\r\n                <div className='row'>\r\n                  <div className=\"hero-content\">\r\n  \r\n                  <nav className=\"navbar navbar-expand-sm bg-Secondary navbar-white \" >\r\n                            <div className=\"container-fluid\"  >\r\n                                  <ul className=\"navbar-nav\" style={{fontSize:13}}> \r\n                                      <li className=\"nav-item\">\r\n                                          <NavLink to=\"/Startup_Dashboard\" className=\"nav-link arrow-right\" style={{color:\"#B1B0AD\"}}>&nbsp;Back to Dashboard</NavLink>\r\n                                        </li>\r\n                                  \r\n                                    </ul>\r\n                              </div>\r\n                            </nav>\r\n\r\n\r\n                    <div className='container'>\r\n                      <form name=\"uploadpitchform\" id=\"uploadpitchform\" method=\"POST\" className=\"row m-5 g-3\"  >\r\n  \r\n  \r\n                        <div className='row' style={{ height: 'auto' }}>\r\n                          <div className='col-md-12'>\r\n                            <h1>Pitch</h1>\r\n                             <h4>Upload Pitch Deck</h4>\r\n                            {/* <p className=\"font20\">\r\n                              <b>Upload Pitch Deck</b></p> */}\r\n                            <div className=\"row m-1\">\r\n                            <div className=\"col-md-8 mb-3\" >\r\n                                    <label className=\"form-label\">Upload your Pitch<span className='maroon'>*</span></label>\r\n                                    <br />\r\n                                    <small className='font12 text-secondary'>Max. Size: 10MB</small>\r\n                                    <input type=\"hidden\" id=\"uploadpitchid\" name=\"uploadpitchid\"/>\r\n                                          <div className='uploadAreaUp mt-2'>\r\n                                          <div class=\"form-group files\"> \r\n                                                    <input type=\"file\" id=\"uploadpitchDoc\" name=\"uploadpitchDoc\" class=\"form-control\" multiple=\"\"/>\r\n                                            </div>\r\n                                    </div>  \r\n                                    <div className=\"text-danger errors\" style={{ fontSize: 15 }}>{this.state.errors.uploadpitchDoc}</div>\r\n                               \r\n                                  </div>\r\n                                  </div>\r\n                          </div>\r\n                        </div>\r\n  \r\n                        <div className=\"col-md-6 \">\r\n                                           <div className=\"row  m-1 btns\">\r\n    {/* <div className=\"col-md-3 mb-3\" > */}\r\n    {/* <button type=\"button\" className=\"btn btn-outline-secondary btn-sm w-100\" data-attr-id=\"teamInfoDivisionIter\" id=\"teaminfoAddmem\">Add Members</button> */}\r\n      {/* </div> */}\r\n      {/* <div className=\"col-md-3 mb-3 text-right\" > */}\r\n    <button type=\"button\" className=\"btn btn-success btn-sm col-md-4\"  onClick={this.saveUploadPitch}>Submit</button>\r\n      {/* </div> */}\r\n  \r\n  \r\n    </div>\r\n                                           </div>\r\n  \r\n                      </form>\r\n  \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </body>\r\n        </>\r\n  \r\n      );\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  export default UploadPitch;"]},"metadata":{},"sourceType":"module"}